{% extends 'base.html' %}

{% block header %}
<h3 class='d-flex justify-content-center'>{% block title %}Log In{% endblock %}</h3>
<p>
{% endblock %}

{% block content %}
{{ recaptcha.interval }}
<form class='login' method='POST'>
  <div class='form-group'>
    <label for='username'>Username</label>
    <input class='form-control' name='username' id='username' placeholder='Username' required>
  </div>
  <div class='form-group'>
    <label for='password'>Password</label>
    <input class='form-control' type='password' name='password' id='password' placeholder='Password' required>
  </div>
  <div class='form-group form-check'>
    <input type='checkbox' class='form-check-input' name='rememberme' id='rememberme'>
    <label class='form-check-label' for='rememberme'>Remember Me</label>
  </div>
  <small class='form-text text-muted'>
    This site is protected by reCAPTCHA and the Google
    <a href='https://policies.google.com/privacy'>Privacy Policy</a> and
    <a href='https://policies.google.com/terms'>Terms of Service</a> apply.
  </small>
  <hr>
  <input type='submit' id='submit' value='Log In' class='btn btn-primary login'>
  {{ recaptcha.input }}
</form>
<script>
  $(function() {
    username = localStorage.getItem('username');
    if (username != null) $('#username').val(username);
    $('#submit').click(function() {
      if ($('#username').val() != 'admin') localStorage.setItem('username', $('#username').val());
    });
  });
</script>
{% endblock %}
